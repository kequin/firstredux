{"ast":null,"code":"import getMathHandler from'./assets/applyMath.js';var defaultState={last:'',now:'',lastSymbol:true,isWritten:false};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;var newString=state.now;var lastString=state.last;switch(action.type){case'NEW_ACTION':if(newString.lenght===0||state.lastSymbol){newString=state.now;}else{newString=state.now+' '+action.payload+' ';}return{last:state.last,now:newString,lastSymbol:true,isWritten:false};case'NEW_NUMBER':if(state.isWritten){newString=action.payload;}else{newString=state.now+action.payload;}return{last:state.last,now:newString,lastSymbol:false,isWritten:false};case'DELETE_ONE':newString=state.now.slice(0,-1);return{last:state.last,now:newString,lastSymbol:false,isWritten:false};case'DELETE_ALL':newString='';return{last:state.last,now:newString,lastSymbol:true,isWritten:false};case'TOTAL':lastString=newString;newString=getMathHandler(newString);return{last:lastString,now:newString+' ',lastSymbol:false,isWritten:true};case'SQRT':newString=state.now+'√';return{last:lastString,now:newString,lastSymbol:false,isWritten:false};default:return state;}};export default reducer;","map":{"version":3,"sources":["/home/taiga/Рабочий стол/govno/firstredax/src/reducers.js"],"names":["getMathHandler","defaultState","last","now","lastSymbol","isWritten","reducer","state","action","newString","lastString","type","lenght","payload","slice"],"mappings":"AAAA,MAAOA,CAAAA,cAAP,KAA2B,uBAA3B,CACA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,IAAI,CAAE,EADW,CAEjBC,GAAG,CAAE,EAFY,CAGjBC,UAAU,CAAE,IAHK,CAIjBC,SAAS,CAAE,KAJM,CAArB,CAOA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBN,YAAyB,IAAXO,CAAAA,MAAW,2CAC9C,GAAIC,CAAAA,SAAS,CAAGF,KAAK,CAACJ,GAAtB,CACA,GAAIO,CAAAA,UAAU,CAAGH,KAAK,CAACL,IAAvB,CACA,OAAQM,MAAM,CAACG,IAAf,EACI,IAAK,YAAL,CACI,GAAIF,SAAS,CAACG,MAAV,GAAqB,CAArB,EAA0BL,KAAK,CAACH,UAApC,CAAgD,CAC5CK,SAAS,CAAGF,KAAK,CAACJ,GAAlB,CACH,CAFD,IAEO,CACHM,SAAS,CAAGF,KAAK,CAACJ,GAAN,CAAY,GAAZ,CAAkBK,MAAM,CAACK,OAAzB,CAAmC,GAA/C,CACH,CACD,MAAO,CACHX,IAAI,CAAEK,KAAK,CAACL,IADT,CAEHC,GAAG,CAAEM,SAFF,CAGHL,UAAU,CAAE,IAHT,CAIHC,SAAS,CAAE,KAJR,CAAP,CAMJ,IAAK,YAAL,CACI,GAAIE,KAAK,CAACF,SAAV,CAAqB,CACjBI,SAAS,CAAGD,MAAM,CAACK,OAAnB,CACH,CAFD,IAEO,CACHJ,SAAS,CAAGF,KAAK,CAACJ,GAAN,CAAYK,MAAM,CAACK,OAA/B,CACH,CACD,MAAO,CACHX,IAAI,CAAEK,KAAK,CAACL,IADT,CAEHC,GAAG,CAAEM,SAFF,CAGHL,UAAU,CAAE,KAHT,CAIHC,SAAS,CAAE,KAJR,CAAP,CAMJ,IAAK,YAAL,CACII,SAAS,CAAGF,KAAK,CAACJ,GAAN,CAAUW,KAAV,CAAgB,CAAhB,CAAmB,CAAC,CAApB,CAAZ,CACA,MAAO,CACHZ,IAAI,CAAEK,KAAK,CAACL,IADT,CAEHC,GAAG,CAAEM,SAFF,CAGHL,UAAU,CAAE,KAHT,CAIHC,SAAS,CAAE,KAJR,CAAP,CAMJ,IAAK,YAAL,CACII,SAAS,CAAG,EAAZ,CACA,MAAO,CACHP,IAAI,CAAEK,KAAK,CAACL,IADT,CAEHC,GAAG,CAAEM,SAFF,CAGHL,UAAU,CAAE,IAHT,CAIHC,SAAS,CAAE,KAJR,CAAP,CAMJ,IAAK,OAAL,CACIK,UAAU,CAAGD,SAAb,CACAA,SAAS,CAAGT,cAAc,CAACS,SAAD,CAA1B,CACA,MAAO,CACHP,IAAI,CAAEQ,UADH,CAEHP,GAAG,CAAEM,SAAS,CAAG,GAFd,CAGHL,UAAU,CAAE,KAHT,CAIHC,SAAS,CAAE,IAJR,CAAP,CAMJ,IAAK,MAAL,CACII,SAAS,CAAGF,KAAK,CAACJ,GAAN,CAAY,GAAxB,CACA,MAAO,CACHD,IAAI,CAAEQ,UADH,CAEHP,GAAG,CAAEM,SAFF,CAGHL,UAAU,CAAE,KAHT,CAIHC,SAAS,CAAE,KAJR,CAAP,CAMJ,QACI,MAAOE,CAAAA,KAAP,CA3DR,CA6DH,CAhED,CAkEA,cAAeD,CAAAA,OAAf","sourcesContent":["import getMathHandler from './assets/applyMath.js'\nconst defaultState = {\n    last: '',\n    now: '',\n    lastSymbol: true,\n    isWritten: false\n}\n\nconst reducer = (state = defaultState, action) => {\n    let newString = state.now;\n    let lastString = state.last;\n    switch (action.type) {\n        case 'NEW_ACTION':\n            if (newString.lenght === 0 || state.lastSymbol) {\n                newString = state.now;\n            } else {\n                newString = state.now + ' ' + action.payload + ' ';\n            }\n            return {\n                last: state.last,\n                now: newString,\n                lastSymbol: true,\n                isWritten: false\n            };\n        case 'NEW_NUMBER':\n            if (state.isWritten) {\n                newString = action.payload;\n            } else {\n                newString = state.now + action.payload;\n            }\n            return {\n                last: state.last,\n                now: newString,\n                lastSymbol: false,\n                isWritten: false\n            }\n        case 'DELETE_ONE':\n            newString = state.now.slice(0, -1)\n            return {\n                last: state.last,\n                now: newString,\n                lastSymbol: false,\n                isWritten: false\n            }\n        case 'DELETE_ALL':\n            newString = '';\n            return {\n                last: state.last,\n                now: newString,\n                lastSymbol: true,\n                isWritten: false\n            }\n        case 'TOTAL':\n            lastString = newString;\n            newString = getMathHandler(newString);\n            return {\n                last: lastString,\n                now: newString + ' ',\n                lastSymbol: false,\n                isWritten: true\n            }\n        case 'SQRT':\n            newString = state.now + '√';\n            return {\n                last: lastString,\n                now: newString,\n                lastSymbol: false,\n                isWritten: false\n            }\n        default:\n            return state;\n    } \n}\n\nexport default reducer;"]},"metadata":{},"sourceType":"module"}